function handle_writable(client)
	while client.output_buffer not empty:
		bytes_written = client.socket.write(client.output_buffer)
		if bytes_written > 0:
			client.output_buffer.remove_first(bytes_written)
		else if bytes_written == WOULD BLOCk:
			break
		else:
			disconnect(client)
			return
	if client.output_buffer is empty:
		eventloop.disable_write(client.socket)


function handle_readable(client, event, channel_registry)
	data = client.socket.read()
		if data == EOF:
			disconnect(client)
			return
		client.input_buffer.append(data)
		if client.input_buffer.lenght > 512
			disconnect(client)
			return
		while client.input_buffer.has_complete_line():
			line = client.input_buffer.remove_line()
			message = parse_message(line)
			get_commands(client, message, channel_registry)
